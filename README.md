# ApiTests
В данном наборе тестов я реализовал проверки всех необходимых, на мой взгляд, фукнций, которые могут 
пригодиться QA-менеджеру для своего фреймворка. Для тестов используется проект с поддержкой нескольких сьютов (multiple test suites). 
Выбор типа добавляемого проекта обуславливается требованиями менеджера к фреймворку (возможность проставлять результаты для разных версий продукта).
Другой "кандидат" -  проект  типа (single repository with baseline support) тоже подходит, но у него есть принципиальный недостаток - разработчик API
не предоставил возможности добавления сьютов-потомков с помощью функций API.
Перед каждым тест-сьютом выполняется "setUp", который создаёт 
необходимый набор тестовых данных и играет роль smoke-test'а, если на этом этапе что-то пошло не так - тестировать дальше нет смысла.
Если же "setUp" проходит успешно, тогда нет смысла тестировать добавление новых сущностей с помощью api-функций, достаточно проверить, 
что существуют те сущности, что были добавлены на этапе создания тестовых данных. 
Ещё одна причина, по которой добавление тестовых данных производится с помощью API-функций - стремление к независимости от какой-либо ручной работы,
ведь если добавление тестовых данных осуществляется из GUI - теряется смысл разработки автотестов.
Кроме этого, в ходе разработки тестов была замечена особенность API - при получении массива сущностей (Projects, Cases, Results, etc)
существует сортировка по порядку добавления, которая работает не для всех сущностей.
Например, для Cases и Projects она есть, а для Runs и Results - нет. Это довольно странно - разработчик API предлагает использовать 
библиотеку com.googlecode.json-simple для работы с JSON-объектами, при этом класс, используемый для работы с массивами JSON-объектов (JSONArray)
является наследником ArrayList, а значит соблюдает его контракты. Поэтому тесты на получение массива сущностей реализованы для более общего случая, когда
нет гарантии, что объекты вернутся именно в том порядке, в каком были добавлены в TestRail.
Также после каждого теста добавлена задержка в 1000мс, это связано с тем, что trial-версия аккаунта не справляется со сколько-нибудь значительным
количеством http-запросов.
